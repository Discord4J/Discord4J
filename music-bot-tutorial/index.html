<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Tutorials/music-bot-tutorial" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">Music Bot Tutorial | Discord4J</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://discord4j.com/music-bot-tutorial"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Music Bot Tutorial | Discord4J"><meta data-rh="true" name="description" content="This tutorial is not yet migrated to Diataxis framework and might be out of date as it was updated for Discord4J v3.1.x."><meta data-rh="true" property="og:description" content="This tutorial is not yet migrated to Diataxis framework and might be out of date as it was updated for Discord4J v3.1.x."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://discord4j.com/music-bot-tutorial"><link data-rh="true" rel="alternate" href="https://discord4j.com/music-bot-tutorial" hreflang="en"><link data-rh="true" rel="alternate" href="https://discord4j.com/music-bot-tutorial" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://C7ZMMWOOHU-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-100029628-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-100029628-1",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Discord4J" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.f8f5dca9.css">
<script src="/assets/js/runtime~main.a61b7613.js" defer="defer"></script>
<script src="/assets/js/main.dd0e6ff0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Discord4J Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Discord4J Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Discord4J</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Welcome to Discord4J Docs!</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/quickstart">Quickstart</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/discord-application-tutorial">Tutorials</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/discord-application-tutorial">Creating a Discord Application</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/basic-bot-tutorial">Basic Bot Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/music-bot-tutorial">Music Bot Tutorial</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/interactions/application-commands">How-to Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/examples">Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/lambda-tutorial">Conceptual Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/migrating-from-v2-x-to-v3-1">Migration Guides</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tutorials</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Music Bot Tutorial</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Music Bot Tutorial</h1></header><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This tutorial is not yet migrated to Diataxis framework and might be out of date as it was updated for Discord4J v3.1.x.</p><p>Feel free to suggest changes to it in our <a href="https://discord.gg/d4j" target="_blank" rel="noopener noreferrer">Discord Server</a> or through a <a href="https://github.com/Discord4J/Discord4J/issues/new/choose" target="_blank" rel="noopener noreferrer">GitHub issue</a> if you encounter issues while following it.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>One of the most common, and almost necessary, features for any Discord bot is the ability to playback music. This tutorial will provide an in-depth guide on how to create a music bot from scratch using Discord4J (and <a href="https://github.com/sedmelluq/lavaplayer" target="_blank" rel="noopener noreferrer">LavaPlayer</a>).</p>
<p>Discord4J facilitates an environment where a Discord bot can be programmed in two different ways, reactively and/or imperatively. Reactive programming, while more efficient, is a paradigm shift from the traditional imperative Java programming model. This tutorial will provide both reactive and imperative approaches to designing a music bot for users who desire to implement either paradigm.</p>
<p>It is expected to complete this tutorial in under 15 minutes.</p>
<table><thead><tr><th>Table of Contents</th></tr></thead><tbody><tr><td><a href="#introduction">Introduction</a></td></tr><tr><td><a href="#requirements">Requirements</a></td></tr><tr><td><a href="#setting-up-intellij">Setting Up IntelliJ</a></td></tr><tr><td><a href="#creating-a-bot">Creating a Bot</a></td></tr><tr><td><a href="#adding-commands">Adding Commands</a></td></tr><tr><td><a href="#adding-music">Adding Music</a></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="requirements">Requirements<a href="#requirements" class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements">​</a></h3>
<ul>
<li>You should already have your bot created and its token ready for use. If you do not, go to this <a href="https://discord.com/developers/applications/" target="_blank" rel="noopener noreferrer">link</a>, create an application, obtain the bot token, and the Client ID.</li>
<li>JDK 8 or above should already be downloaded and/or installed on your system.</li>
<li>This tutorial assumes you are familiar with Java 8 or above concepts with a special emphasis in lambdas. If you are unfamiliar with lambdas, please visit our <a href="/lambda-tutorial">Lambda Tutorial</a>.</li>
<li>This tutorial uses <a href="https://www.jetbrains.com/idea/" target="_blank" rel="noopener noreferrer">IntelliJ</a> to set up the programming environment and it is assumed to already be installed on your system. Eclipse, Netbeans, and other IDEs have similar, but slightly different, setup processes. Please consult the documentation for your specific IDE as it is necessary.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-intellij">Setting Up IntelliJ<a href="#setting-up-intellij" class="hash-link" aria-label="Direct link to Setting Up IntelliJ" title="Direct link to Setting Up IntelliJ">​</a></h3>
<p>Before coding, we need to create and setup a project with Discord4J installed. This section will cover what Maven is, how to create a Maven project using IntelliJ, and how to use Maven to install Discord4J.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-1">Step 1<a href="#step-1" class="hash-link" aria-label="Direct link to Step 1" title="Direct link to Step 1">​</a></h4>
<p>Open IntelliJ and select <strong>Create New Project</strong>.</p>
<img src="/img/music_bot/ij_create_project.png">
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-2">Step 2<a href="#step-2" class="hash-link" aria-label="Direct link to Step 2" title="Direct link to Step 2">​</a></h4>
<p>Select <strong>Maven</strong>. <a href="https://maven.apache.org/" target="_blank" rel="noopener noreferrer">Maven</a> is a software project management and comprehension tool. Alongside its main competitor <a href="https://gradle.org/" target="_blank" rel="noopener noreferrer">Gradle</a>, Maven is practically required and essential for all Java development projects both personal and professional. It is what will enable us to install Discord4J and its dependencies along with any other dependencies and dependencies of those dependencies easily and with minimal effort.</p>
<img src="/img/music_bot/ij_create_project_maven.png">
<p>⚠️ If <em>Project SDK</em> is blank, click <strong>New</strong> and navigate to a directory where a JDK is present and click <strong>OK</strong>.</p>
<img src="/img/music_bot/ij_project_sdk.png">
<img src="/img/music_bot/ij_project_sdk_select.png">
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-3">Step 3<a href="#step-3" class="hash-link" aria-label="Direct link to Step 3" title="Direct link to Step 3">​</a></h4>
<p>Click <strong>Next</strong>, and you&#x27;ll be required to provide a <em>GroupId</em>, <em>ArtifactId</em>, and <em>Version</em>. Refer to this <a href="https://maven.apache.org/guides/mini/guide-naming-conventions.html" target="_blank" rel="noopener noreferrer">link</a> for a detailed explanation of each of these attributes. After you are done providing your attributes, select <strong>Next</strong>.</p>
<p>I will be using the reverse domain name of GitHub as my <em>GroupId</em> with an addition of my username and the name of the project (DMusic, for Discord Music). The <em>ArtifactId</em> will be &quot;dmusic&quot; as I expect an outputted jar to be referred to as &quot;dmusic.jar&quot;. Finally, as for the <em>Version</em>, since this is an application, not a library, I prefer using a date-based versioning scheme, particularly <code>YEAR.MONTH.DAY</code>.</p>
<img src="/img/music_bot/ij_project_version.png">
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-4">Step 4<a href="#step-4" class="hash-link" aria-label="Direct link to Step 4" title="Direct link to Step 4">​</a></h4>
<p>This page will ask for a <em>Project Name</em>. You may leave it as the default (it automatically takes from the <em>ArtifactId</em>), but I personally prefer having proper capitalization when working in IntelliJ. After you have chosen, select <strong>Finish</strong>.</p>
<img src="/img/music_bot/ij_project_name.png">
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-5">Step 5<a href="#step-5" class="hash-link" aria-label="Direct link to Step 5" title="Direct link to Step 5">​</a></h4>
<p>Once IntelliJ has created the project, a dialog box will appear in the bottom-right corner. Select <strong>Enable Auto-Import</strong>. This will have IntelliJ automatically install dependencies like Discord4J after we request for them, rather than needing to manually refresh the project.</p>
<img src="/img/music_bot/ij_maven_auto_import.png">
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-6">Step 6<a href="#step-6" class="hash-link" aria-label="Direct link to Step 6" title="Direct link to Step 6">​</a></h4>
<p>IntelliJ will automatically open the <em>pom.xml</em> after it has created the project. Maven uses the <em>pom.xml</em> to control the project&#x27;s structure, and it&#x27;s how we will be telling Maven to install Discord4J. As you can see <a href="/quickstart">here</a>, Discord4J provides a set of &quot;coordinates&quot; that tells Maven how to find Discord4J. You may have noticed these coordinates contain a <em>GroupId</em>, <em>ArtifactId</em>, and <em>Version</em>; just like the attributes we have provided earlier! The coordinates are how Maven uniquely identifies a project, picks out a specific version, finds it, and eventually installs it for us.</p>
<p><strong>Add</strong> the coordinates to the root of the <em>pom.xml</em>. If the text is red, that is OK! Give IntelliJ and Maven a few seconds or a minute to download and add Discord4J to our project. The text will eventually turn completely white.</p>
<p>Important: Version numbers shown in these images might be outdated. While following this tutorial, prefer using the latest version in the 3.1.x line:</p>
<p><a href="https://search.maven.org/artifact/com.discord4j/discord4j-core" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://img.shields.io/maven-central/v/com.discord4j/discord4j-core/3.1.svg?style=flat-square" alt="Maven Central" class="img_ev3q"></a></p>
<img src="/img/music_bot/ij_maven_versionnum.png">
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-7">Step 7<a href="#step-7" class="hash-link" aria-label="Direct link to Step 7" title="Direct link to Step 7">​</a></h4>
<p>Under <strong>External Libraries</strong> on the navigation pane, <code>discord4j-core</code> should be present. This means Discord4J has been properly imported, and we are ready to utilize it in our project!</p>
<img src="/img/music_bot/ij_maven_external_libraries.png">
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-bot">Creating a Bot<a href="#creating-a-bot" class="hash-link" aria-label="Direct link to Creating a Bot" title="Direct link to Creating a Bot">​</a></h3>
<p>Once IntelliJ is configured for Maven with Discord4J installed we can finally start coding! This section will cover how to make your bot appear online once you start the program.</p>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-8">Step 8<a href="#step-8" class="hash-link" aria-label="Direct link to Step 8" title="Direct link to Step 8">​</a></h4>
<p><strong>Right click</strong> on <strong>src/main/java</strong> in the <em>Project View</em> and <strong>select</strong> the <strong>New -&gt; Package</strong> option. This will allow us to create a base package for us to work with and acts as a starting point to help organize our code.</p>
<img src="/img/music_bot/ij_create_package.png">
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-9">Step 9<a href="#step-9" class="hash-link" aria-label="Direct link to Step 9" title="Direct link to Step 9">​</a></h4>
<p>You should choose a package structure equal to the <em>GroupId</em> that you provided back in Step 3.</p>
<img src="/img/music_bot/ij_package_name.png">
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-10">Step 10<a href="#step-10" class="hash-link" aria-label="Direct link to Step 10" title="Direct link to Step 10">​</a></h4>
<p><strong>Right click</strong> on the last folder of your package structure and <strong>select</strong> the <strong>New -&gt; Java Class</strong> option. We will now refer to this specific folder as the <em>root package</em>. For example, <code>dmusic</code> for my project is considered the <em>root package</em>.</p>
<img src="/img/music_bot/ij_create_java_class.png">
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-11">Step 11<a href="#step-11" class="hash-link" aria-label="Direct link to Step 11" title="Direct link to Step 11">​</a></h4>
<p>Choose a class name. It will contain our main method and as a personal preference I like having such classes equal the name of my application.</p>
<img src="/img/music_bot/ij_class_name.png">
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-12">Step 12<a href="#step-12" class="hash-link" aria-label="Direct link to Step 12" title="Direct link to Step 12">​</a></h4>
<p>Create a main method and add the code below. Assume <code>args</code> refers to the String array that is standard on all main methods, i.e., <code>String[] args</code>.</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="using-discord4j-v30x">Using Discord4J v3.0.x<a href="#using-discord4j-v30x" class="hash-link" aria-label="Direct link to Using Discord4J v3.0.x" title="Direct link to Using Discord4J v3.0.x">​</a></h6>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#a9b7c6;--prism-background-color:#2b2b2b"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#a9b7c6;background-color:#2b2b2b"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#a9b7c6"><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">DiscordClient</span><span class="token plain"> client </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">new</span><span class="token plain"> </span><span class="token class-name">DiscordClientBuilder</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#a9b7c6">[</span><span class="token number" style="color:#6897bb">0</span><span class="token punctuation" style="color:#a9b7c6">]</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">build</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">client</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">login</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">block</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>What is happening here? Well in order to make our bot appear online it has to <em>login</em>. The ability to <em>login</em> is only applicable to an instance of <code>DiscordClient</code> and the only way to obtain a <code>DiscordClient</code> instance is to build it using <code>DiscordClientBuilder</code>. We first build <code>DiscordClientBuilder</code> using <code>args[0]</code> which will take the first argument of our program which we will use to pass our bot token. Since we are not interested in any other options from <code>DiscordClientBuilder</code> we can just simply build a <code>DiscordClient</code> by calling <code>build</code>.</p>
<p>Once we have our <code>DiscordClient</code> instance we now call <code>login</code>. However, <code>login</code> returns a type called a <code>Mono</code>, which is an <em>asynchronous</em> and <em>lazy</em> data type. It doesn&#x27;t <em>do</em> anything until we <em>request</em> it to do so and the ability to <em>request</em> an action can be accomplished in numerous ways. For now, we will call <code>block</code> which essentially means &quot;request this action and wait (<em>block</em>ing the current thread) for it to finish&quot;.</p>
<p><strong>v3.0 behavior:</strong> <code>login</code> will not &quot;finish&quot; until the bot is completely disconnected, i.e., calling <code>logout</code> at some point in the future.</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="using-discord4j-v31x-and-above">Using Discord4J v3.1.x and above<a href="#using-discord4j-v31x-and-above" class="hash-link" aria-label="Direct link to Using Discord4J v3.1.x and above" title="Direct link to Using Discord4J v3.1.x and above">​</a></h6>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#a9b7c6;--prism-background-color:#2b2b2b"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#a9b7c6;background-color:#2b2b2b"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#a9b7c6"><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">GatewayDiscordClient</span><span class="token plain"> client </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> </span><span class="token class-name">DiscordClientBuilder</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">create</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#a9b7c6">[</span><span class="token number" style="color:#6897bb">0</span><span class="token punctuation" style="color:#a9b7c6">]</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">build</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">login</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">block</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">client</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">onDisconnect</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">block</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>v3.1 behavior:</strong> <code>login</code> will not &quot;finish&quot; until the bot has <strong>connected to the Gateway</strong> and will return a <code>GatewayDiscordClient</code> object that can be used to operate on the Discord real-time websocket for bots.</p>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-13">Step 13<a href="#step-13" class="hash-link" aria-label="Direct link to Step 13" title="Direct link to Step 13">​</a></h4>
<p><strong>Click</strong> on the <strong>green arrow</strong> next to the <strong>main</strong> method and <strong>select</strong> the <strong>Run</strong> option.</p>
<img src="/img/music_bot/ij_run.png">
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-14">Step 14<a href="#step-14" class="hash-link" aria-label="Direct link to Step 14" title="Direct link to Step 14">​</a></h4>
<p>After IntelliJ compiles your program and starts, you&#x27;ll immediately encounter an <code>ArrayIndexOutOfBoundsException</code>. This is because we haven&#x27;t provided any arguments for our program yet so <code>args[0]</code> is invalid! So let&#x27;s fix that. In the <strong>top right</strong> corner go into the <strong>Edit Configurations...</strong> menu.</p>
<img src="/img/music_bot/ij_edit_configurations.png">
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-15">Step 15<a href="#step-15" class="hash-link" aria-label="Direct link to Step 15" title="Direct link to Step 15">​</a></h4>
<p><strong>Add</strong> your bot token to <em>Program arguments</em> and click <strong>Apply</strong> then <strong>OK</strong>.</p>
<img src="/img/music_bot/ij_program_arguments.png">
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-16">Step 16<a href="#step-16" class="hash-link" aria-label="Direct link to Step 16" title="Direct link to Step 16">​</a></h4>
<p><strong>Rerun</strong> the program, you should now see a bunch of output to the console. Congratulations, your bot is now online! If you invite your bot using the link below, replacing <code>CLIENTID</code> with the Client ID, then you will see your bot green and ready. If you wish to disconnect your bot, <strong>click</strong> on the <strong>Exit</strong> button in the console.</p>
<p><code>https://discord.com/oauth2/authorize?client_id=CLIENTID&amp;scope=bot</code></p>
<img src="/img/music_bot/ij_console.png">
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-commands">Adding Commands<a href="#adding-commands" class="hash-link" aria-label="Direct link to Adding Commands" title="Direct link to Adding Commands">​</a></h3>
<p>Once the bot appears online we should allow it to respond to certain input from users. This section will cover one of the many ways to implement commands, or specifically structured user input, to allow responses from our bot.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="code-notice">Code Notice<a href="#code-notice" class="hash-link" aria-label="Direct link to Code Notice" title="Direct link to Code Notice">​</a></h4>
<p>The next two sections will feature a lot more code than visual guidelines as seen from the previous sections. Each step will go in-depth about what the code <em>does</em> and <em>why</em> the code is written, but it will not step line-by-line to explain every minute detail.</p>
<p>As outlined by the introduction, this tutorial will focus on two paradigms of programming that Discord4J supports, reactively and imperatively. Do <strong>NOT</strong> implement both paradigms; only implement one. Both paradigms are provided by this tutorial to demonstrate how the two can be translated for easier understanding which is especially important when learning reactive programming.</p>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-17">Step 17<a href="#step-17" class="hash-link" aria-label="Direct link to Step 17" title="Direct link to Step 17">​</a></h4>
<p>There are many approaches to implementing a command system that have different trade-offs in abstraction, ease-of-use, ease-of-implementation, etc. In this tutorial we will be implementing a map-based, interface-bound command system. It is not the best solution, but you will have a functioning command system up and running very quickly, and it is very simple to understand.</p>
<p>First, <strong>create</strong> an <strong>interface</strong> named <code>Command</code> with a <strong>single method</strong> that accepts a <code>MessageCreateEvent</code>. As the name suggest, this event is fired whenever a message is created. We will be using this interface to represent any given &quot;command&quot;, i.e., <code>execute</code> will only fire if we received the particular command that the implementation represents.</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="imperative-approach">Imperative Approach<a href="#imperative-approach" class="hash-link" aria-label="Direct link to Imperative Approach" title="Direct link to Imperative Approach">​</a></h6>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#a9b7c6;--prism-background-color:#2b2b2b"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#a9b7c6;background-color:#2b2b2b"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#a9b7c6"><span class="token keyword" style="color:#cc7832">interface</span><span class="token plain"> </span><span class="token class-name">Command</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token keyword" style="color:#cc7832">void</span><span class="token plain"> </span><span class="token function" style="color:#ffc66d">execute</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token class-name">MessageCreateEvent</span><span class="token plain"> event</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain"></span><span class="token punctuation" style="color:#a9b7c6">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="reactive-approach">Reactive Approach<a href="#reactive-approach" class="hash-link" aria-label="Direct link to Reactive Approach" title="Direct link to Reactive Approach">​</a></h6>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#a9b7c6;--prism-background-color:#2b2b2b"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#a9b7c6;background-color:#2b2b2b"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#a9b7c6"><span class="token keyword" style="color:#cc7832">interface</span><span class="token plain"> </span><span class="token class-name">Command</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token comment" style="color:#808080">// Since we are expecting to do reactive things in this method, like</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token comment" style="color:#808080">// send a message, then this method will also return a reactive type.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token class-name">Mono</span><span class="token generics punctuation" style="color:#a9b7c6">&lt;</span><span class="token generics class-name">Void</span><span class="token generics punctuation" style="color:#a9b7c6">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#ffc66d">execute</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token class-name">MessageCreateEvent</span><span class="token plain"> event</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain"></span><span class="token punctuation" style="color:#a9b7c6">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-18">Step 18<a href="#step-18" class="hash-link" aria-label="Direct link to Step 18" title="Direct link to Step 18">​</a></h4>
<p>Next, we need a way to have all our commands in one place, so we can choose which one we want to fire for any given <code>MessageCreateEvent</code>, if any. The simplest way is to have a <code>Map</code>, where the keys represent the <em>name</em> of the command, with the values being <code>Command</code> instances.</p>
<p><strong>Add</strong> the following inside your <strong>main class</strong>:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#a9b7c6;--prism-background-color:#2b2b2b"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#a9b7c6;background-color:#2b2b2b"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#a9b7c6"><span class="token keyword" style="color:#cc7832">private</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">static</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token generics punctuation" style="color:#a9b7c6">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#a9b7c6">,</span><span class="token generics"> </span><span class="token generics class-name">Command</span><span class="token generics punctuation" style="color:#a9b7c6">&gt;</span><span class="token plain"> commands </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">new</span><span class="token plain"> </span><span class="token class-name">HashMap</span><span class="token generics punctuation" style="color:#a9b7c6">&lt;</span><span class="token generics punctuation" style="color:#a9b7c6">&gt;</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-19">Step 19<a href="#step-19" class="hash-link" aria-label="Direct link to Step 19" title="Direct link to Step 19">​</a></h4>
<p>Let&#x27;s populate this map with a simple &quot;ping pong&quot; command just as a demonstration that the system works. <strong>Add</strong> the following inside your <strong>main class</strong>:</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="imperative-approach-1">Imperative Approach<a href="#imperative-approach-1" class="hash-link" aria-label="Direct link to Imperative Approach" title="Direct link to Imperative Approach">​</a></h6>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#a9b7c6;--prism-background-color:#2b2b2b"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#a9b7c6;background-color:#2b2b2b"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#a9b7c6"><span class="token keyword" style="color:#cc7832">static</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    commands</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">put</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token string" style="color:#6a8759">&quot;ping&quot;</span><span class="token punctuation" style="color:#a9b7c6">,</span><span class="token plain"> event </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> event</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getMessage</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getChannel</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">block</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">createMessage</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token string" style="color:#6a8759">&quot;Pong!&quot;</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">block</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain"></span><span class="token punctuation" style="color:#a9b7c6">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="reactive-approach-1">Reactive Approach<a href="#reactive-approach-1" class="hash-link" aria-label="Direct link to Reactive Approach" title="Direct link to Reactive Approach">​</a></h6>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#a9b7c6;--prism-background-color:#2b2b2b"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#a9b7c6;background-color:#2b2b2b"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#a9b7c6"><span class="token keyword" style="color:#cc7832">static</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    commands</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">put</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token string" style="color:#6a8759">&quot;ping&quot;</span><span class="token punctuation" style="color:#a9b7c6">,</span><span class="token plain"> event </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> event</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getMessage</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getChannel</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">flatMap</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">channel </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> channel</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">createMessage</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token string" style="color:#6a8759">&quot;Pong!&quot;</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">then</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain"></span><span class="token punctuation" style="color:#a9b7c6">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>All this code does is add a mapping to &quot;ping&quot; where the bot will create a new message in the same channel with the text &quot;Pong!&quot;.</p>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-20">Step 20<a href="#step-20" class="hash-link" aria-label="Direct link to Step 20" title="Direct link to Step 20">​</a></h4>
<p>Finally, we need a way to hook up our command system to Discord4J&#x27;s event system. All of Discord4J&#x27;s events are dispatched through the <code>EventDispatcher</code> that is attached to the <code>DiscordClient</code> instance. <code>EventDispatcher</code> has a single method, <code>on</code>, which determines which type of event the dispatcher should provide us.</p>
<p>After having an event, we need to do some basic filtering to make sure we are executing the right commands for the right messages. To do this, we will simply iterate through all our commands, check if the contents of the message starts with a prefix plus the command we are checking against and, if it does, execute the command.</p>
<p><strong>Discord4J v3.0.x</strong>: <strong>Add</strong> the following code <strong>after</strong> building the <code>DiscordClient</code>, but <strong>before</strong> <code>login</code>:
<strong>Discord4J v3.1.x</strong>: <strong>Add</strong> the following code <strong>after</strong> building the <code>GatewayDiscordClient</code>, but <strong>before</strong> <code>onDisconnect</code>:</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="discord4j-30x---imperative-approach">Discord4J 3.0.x - Imperative Approach<a href="#discord4j-30x---imperative-approach" class="hash-link" aria-label="Direct link to Discord4J 3.0.x - Imperative Approach" title="Direct link to Discord4J 3.0.x - Imperative Approach">​</a></h6>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#a9b7c6;--prism-background-color:#2b2b2b"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#a9b7c6;background-color:#2b2b2b"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#a9b7c6"><span class="token plain">client</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getEventDispatcher</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">on</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token class-name">MessageCreateEvent</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token keyword" style="color:#cc7832">class</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token comment" style="color:#808080">// subscribe is like block, in that it will *request* for action</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token comment" style="color:#808080">// to be done, but instead of blocking the thread, waiting for it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token comment" style="color:#808080">// to finish, it will just execute the results asynchronously.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">subscribe</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">event </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> content </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> event</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getMessage</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getContent</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">orElse</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token string" style="color:#6a8759">&quot;&quot;</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token keyword" style="color:#cc7832">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token class-name punctuation" style="color:#a9b7c6">.</span><span class="token class-name">Entry</span><span class="token generics punctuation" style="color:#a9b7c6">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#a9b7c6">,</span><span class="token generics"> </span><span class="token generics class-name">Command</span><span class="token generics punctuation" style="color:#a9b7c6">&gt;</span><span class="token plain"> entry </span><span class="token operator" style="color:#a9b7c6">:</span><span class="token plain"> commands</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">entrySet</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token comment" style="color:#808080">// We will be using ! as our &quot;prefix&quot; to any command in the system.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token keyword" style="color:#cc7832">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">content</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">startsWith</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token char" style="color:#6a8759">&#x27;!&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#a9b7c6">+</span><span class="token plain"> entry</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getKey</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">                entry</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getValue</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">execute</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">                </span><span class="token keyword" style="color:#cc7832">break</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token punctuation" style="color:#a9b7c6">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token punctuation" style="color:#a9b7c6">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">}</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="discord4j-30x---reactive-approach">Discord4J 3.0.x - Reactive Approach<a href="#discord4j-30x---reactive-approach" class="hash-link" aria-label="Direct link to Discord4J 3.0.x - Reactive Approach" title="Direct link to Discord4J 3.0.x - Reactive Approach">​</a></h6>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#a9b7c6;--prism-background-color:#2b2b2b"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#a9b7c6;background-color:#2b2b2b"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#a9b7c6"><span class="token plain">client</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getEventDispatcher</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">on</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token class-name">MessageCreateEvent</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token keyword" style="color:#cc7832">class</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">flatMap</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">event </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> </span><span class="token class-name">Mono</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">justOrEmpty</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getMessage</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getContent</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">flatMap</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">content </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> </span><span class="token class-name">Flux</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">fromIterable</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">commands</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">entrySet</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token comment" style="color:#808080">// We will be using ! as our &quot;prefix&quot; to any command in the system.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">filter</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">entry </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> content</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">startsWith</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token char" style="color:#6a8759">&#x27;!&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#a9b7c6">+</span><span class="token plain"> entry</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getKey</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">flatMap</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">entry </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> entry</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getValue</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">execute</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">next</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">subscribe</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="discord4j-31x---imperative-approach">Discord4J 3.1.x - Imperative Approach<a href="#discord4j-31x---imperative-approach" class="hash-link" aria-label="Direct link to Discord4J 3.1.x - Imperative Approach" title="Direct link to Discord4J 3.1.x - Imperative Approach">​</a></h6>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#a9b7c6;--prism-background-color:#2b2b2b"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#a9b7c6;background-color:#2b2b2b"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#a9b7c6"><span class="token plain">client</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getEventDispatcher</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">on</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token class-name">MessageCreateEvent</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token keyword" style="color:#cc7832">class</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token comment" style="color:#808080">// subscribe is like block, in that it will *request* for action</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token comment" style="color:#808080">// to be done, but instead of blocking the thread, waiting for it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token comment" style="color:#808080">// to finish, it will just execute the results asynchronously.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">subscribe</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">event </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token comment" style="color:#808080">// 3.1 Message.getContent() is a String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> content </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> event</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getMessage</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getContent</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token keyword" style="color:#cc7832">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token class-name punctuation" style="color:#a9b7c6">.</span><span class="token class-name">Entry</span><span class="token generics punctuation" style="color:#a9b7c6">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#a9b7c6">,</span><span class="token generics"> </span><span class="token generics class-name">Command</span><span class="token generics punctuation" style="color:#a9b7c6">&gt;</span><span class="token plain"> entry </span><span class="token operator" style="color:#a9b7c6">:</span><span class="token plain"> commands</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">entrySet</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token comment" style="color:#808080">// We will be using ! as our &quot;prefix&quot; to any command in the system.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token keyword" style="color:#cc7832">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">content</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">startsWith</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token char" style="color:#6a8759">&#x27;!&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#a9b7c6">+</span><span class="token plain"> entry</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getKey</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">                entry</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getValue</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">execute</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">                </span><span class="token keyword" style="color:#cc7832">break</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token punctuation" style="color:#a9b7c6">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token punctuation" style="color:#a9b7c6">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">}</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="discord4j-31x---reactive-approach">Discord4J 3.1.x - Reactive Approach<a href="#discord4j-31x---reactive-approach" class="hash-link" aria-label="Direct link to Discord4J 3.1.x - Reactive Approach" title="Direct link to Discord4J 3.1.x - Reactive Approach">​</a></h6>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#a9b7c6;--prism-background-color:#2b2b2b"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#a9b7c6;background-color:#2b2b2b"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#a9b7c6"><span class="token plain">client</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getEventDispatcher</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">on</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token class-name">MessageCreateEvent</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token keyword" style="color:#cc7832">class</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token comment" style="color:#808080">// 3.1 Message.getContent() is a String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">flatMap</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">event </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> </span><span class="token class-name">Mono</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">just</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getMessage</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getContent</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">flatMap</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">content </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> </span><span class="token class-name">Flux</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">fromIterable</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">commands</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">entrySet</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token comment" style="color:#808080">// We will be using ! as our &quot;prefix&quot; to any command in the system.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">filter</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">entry </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> content</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">startsWith</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token char" style="color:#6a8759">&#x27;!&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#a9b7c6">+</span><span class="token plain"> entry</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getKey</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">flatMap</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">entry </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> entry</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getValue</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">execute</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">next</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">subscribe</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-21">Step 21<a href="#step-21" class="hash-link" aria-label="Direct link to Step 21" title="Direct link to Step 21">​</a></h4>
<p><strong>Rerun</strong> the bot and type &quot;!ping&quot; to any channel the bot can read, and it will promptly respond with &quot;Pong!&quot;. Congratulations, you have successfully created your first command and expandable command system. If we need to add a new command, we just simply add another mapping to <code>commands</code> in the <code>static</code> block that we made in step 18.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-music">Adding Music<a href="#adding-music" class="hash-link" aria-label="Direct link to Adding Music" title="Direct link to Adding Music">​</a></h3>
<p>Once we know how to implement commands, let&#x27;s add a few more with the added ability to playback music. This section will cover how to make our bot join a voice channel and how to playback audio from a YouTube link.</p>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-22">Step 22<a href="#step-22" class="hash-link" aria-label="Direct link to Step 22" title="Direct link to Step 22">​</a></h4>
<p>In order to playback audio from a YouTube link we need to be able to extract audio from a YouTube link in a format Discord will recognize. One of the easiest solutions for this is by utilizing <a href="https://github.com/sedmelluq/lavaplayer" target="_blank" rel="noopener noreferrer">LavaPlayer</a>. So in your <em>pom.xml</em>, <strong>add</strong> the <strong>Maven coordinates</strong> that <strong>LavaPlayer&#x27;s README</strong> specifies.</p>
<p>Important: Version numbers shown in these images might be outdated. While following this tutorial, prefer using the latest version in the 3.1.x line:</p>
<p>For <code>discord4j-core</code>: <a href="https://search.maven.org/artifact/com.discord4j/discord4j-core" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://img.shields.io/maven-central/v/com.discord4j/discord4j-core/3.1.svg?style=flat-square" alt="Maven Central" class="img_ev3q"></a></p>
<p>For <code>lavaplayer</code>: <a href="https://bintray.com/sedmelluq/com.sedmelluq/lavaplayer" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://api.bintray.com/packages/sedmelluq/com.sedmelluq/lavaplayer/images/download.svg" alt="Bintray" class="img_ev3q"></a></p>
<img src="/img/music_bot/ij_maven_lavaplayer.png">
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-23">Step 23<a href="#step-23" class="hash-link" aria-label="Direct link to Step 23" title="Direct link to Step 23">​</a></h4>
<p><strong>Add</strong> the following code at the start of your main class, <strong>before</strong> building the <code>DiscordClient</code>.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#a9b7c6;--prism-background-color:#2b2b2b"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#a9b7c6;background-color:#2b2b2b"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#a9b7c6"><span class="token comment" style="color:#808080">// Creates AudioPlayer instances and translates URLs to AudioTrack instances</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain"></span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">AudioPlayerManager</span><span class="token plain"> playerManager </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">new</span><span class="token plain"> </span><span class="token class-name">DefaultAudioPlayerManager</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain"></span><span class="token comment" style="color:#808080">// This is an optimization strategy that Discord4J can utilize.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain"></span><span class="token comment" style="color:#808080">// It is not important to understand</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">playerManager</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getConfiguration</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">setFrameBufferFactory</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token class-name">NonAllocatingAudioFrameBuffer</span><span class="token operator" style="color:#a9b7c6">::</span><span class="token keyword" style="color:#cc7832">new</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain"></span><span class="token comment" style="color:#808080">// Allow playerManager to parse remote sources like YouTube links</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain"></span><span class="token class-name">AudioSourceManagers</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">registerRemoteSources</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">playerManager</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain"></span><span class="token comment" style="color:#808080">// Create an AudioPlayer so Discord4J can receive audio data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain"></span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">AudioPlayer</span><span class="token plain"> player </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> playerManager</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">createPlayer</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain"></span><span class="token comment" style="color:#808080">// We will be creating LavaPlayerAudioProvider in the next step</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain"></span><span class="token class-name">AudioProvider</span><span class="token plain"> provider </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">new</span><span class="token plain"> </span><span class="token class-name">LavaPlayerAudioProvider</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">player</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-24">Step 24<a href="#step-24" class="hash-link" aria-label="Direct link to Step 24" title="Direct link to Step 24">​</a></h4>
<p><strong>Create</strong> the following class:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#a9b7c6;--prism-background-color:#2b2b2b"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#a9b7c6;background-color:#2b2b2b"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#a9b7c6"><span class="token keyword" style="color:#cc7832">public</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">class</span><span class="token plain"> </span><span class="token class-name">LavaPlayerAudioProvider</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">extends</span><span class="token plain"> </span><span class="token class-name">AudioProvider</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token keyword" style="color:#cc7832">private</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">AudioPlayer</span><span class="token plain"> player</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token keyword" style="color:#cc7832">private</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">MutableAudioFrame</span><span class="token plain"> frame </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">new</span><span class="token plain"> </span><span class="token class-name">MutableAudioFrame</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token keyword" style="color:#cc7832">public</span><span class="token plain"> </span><span class="token class-name">LavaPlayerAudioProvider</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">AudioPlayer</span><span class="token plain"> player</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token comment" style="color:#808080">// Allocate a ByteBuffer for Discord4J&#x27;s AudioProvider to hold audio data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token comment" style="color:#808080">// for Discord</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token keyword" style="color:#cc7832">super</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token class-name">ByteBuffer</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">allocate</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">                </span><span class="token class-name">StandardAudioDataFormats</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token constant" style="color:#9876aa">DISCORD_OPUS</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">maximumChunkSize</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token comment" style="color:#808080">// Set LavaPlayer&#x27;s MutableAudioFrame to use the same buffer as the one we</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token comment" style="color:#808080">// just allocated</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        frame</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">setBuffer</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token function" style="color:#ffc66d">getBuffer</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token keyword" style="color:#cc7832">this</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token plain">player </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> player</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#a9b7c6">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token keyword" style="color:#cc7832">public</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">boolean</span><span class="token plain"> </span><span class="token function" style="color:#ffc66d">provide</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token comment" style="color:#808080">// AudioPlayer writes audio data to its AudioFrame</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">boolean</span><span class="token plain"> didProvide </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> player</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">provide</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">frame</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token comment" style="color:#808080">// If audio was provided, flip from write-mode to read-mode</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token keyword" style="color:#cc7832">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">didProvide</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token function" style="color:#ffc66d">getBuffer</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">flip</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token punctuation" style="color:#a9b7c6">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token keyword" style="color:#cc7832">return</span><span class="token plain"> didProvide</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain"></span><span class="token punctuation" style="color:#a9b7c6">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-25">Step 25<a href="#step-25" class="hash-link" aria-label="Direct link to Step 25" title="Direct link to Step 25">​</a></h4>
<p>Once Discord4J and LavaPlayer are linked together, we need to have our bot be able to join voice channels to playback music. As a very simple demonstration, we will be adding a &quot;join&quot; command where the bot will join the voice channel of the user who made the request.</p>
<p><strong>Add</strong> the following code after creating the <code>AudioProvider</code> instance from step 23.</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="imperative-approach-2">Imperative Approach<a href="#imperative-approach-2" class="hash-link" aria-label="Direct link to Imperative Approach" title="Direct link to Imperative Approach">​</a></h6>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#a9b7c6;--prism-background-color:#2b2b2b"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#a9b7c6;background-color:#2b2b2b"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#a9b7c6"><span class="token plain">commands</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">put</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token string" style="color:#6a8759">&quot;join&quot;</span><span class="token punctuation" style="color:#a9b7c6">,</span><span class="token plain"> event </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">Member</span><span class="token plain"> member </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> event</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getMember</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">orElse</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token keyword" style="color:#cc7832">null</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token keyword" style="color:#cc7832">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">member </span><span class="token operator" style="color:#a9b7c6">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">null</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">VoiceState</span><span class="token plain"> voiceState </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> member</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getVoiceState</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">block</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token keyword" style="color:#cc7832">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">voiceState </span><span class="token operator" style="color:#a9b7c6">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">null</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">VoiceChannel</span><span class="token plain"> channel </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> voiceState</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getChannel</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">block</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token keyword" style="color:#cc7832">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">channel </span><span class="token operator" style="color:#a9b7c6">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">null</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">                </span><span class="token comment" style="color:#808080">// join returns a VoiceConnection which would be required if we were</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">                </span><span class="token comment" style="color:#808080">// adding disconnection features, but for now we are just ignoring it.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">                channel</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">join</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">spec </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> spec</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">setProvider</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">provider</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">block</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">            </span><span class="token punctuation" style="color:#a9b7c6">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token punctuation" style="color:#a9b7c6">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain"></span><span class="token punctuation" style="color:#a9b7c6">}</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="reactive-approach-2">Reactive Approach<a href="#reactive-approach-2" class="hash-link" aria-label="Direct link to Reactive Approach" title="Direct link to Reactive Approach">​</a></h6>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#a9b7c6;--prism-background-color:#2b2b2b"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#a9b7c6;background-color:#2b2b2b"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#a9b7c6"><span class="token plain">commands</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">put</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token string" style="color:#6a8759">&quot;join&quot;</span><span class="token punctuation" style="color:#a9b7c6">,</span><span class="token plain"> event </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> </span><span class="token class-name">Mono</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">justOrEmpty</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getMember</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">flatMap</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token class-name">Member</span><span class="token operator" style="color:#a9b7c6">::</span><span class="token function" style="color:#ffc66d">getVoiceState</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">flatMap</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token class-name">VoiceState</span><span class="token operator" style="color:#a9b7c6">::</span><span class="token function" style="color:#ffc66d">getChannel</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token comment" style="color:#808080">// join returns a VoiceConnection which would be required if we were</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token comment" style="color:#808080">// adding disconnection features, but for now we are just ignoring it.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">flatMap</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">channel </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> channel</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">join</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">spec </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> spec</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">setProvider</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">provider</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">then</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-26">Step 26<a href="#step-26" class="hash-link" aria-label="Direct link to Step 26" title="Direct link to Step 26">​</a></h4>
<p>Finally, let&#x27;s add a command that takes a YouTube link, extracts audio from it, and plays it back to the channel. First, we need to make a class taking processed <code>AudioTrack</code> instances and loads them into an <code>AudioPlayer</code>. The class this tutorial will make is the most basic implementation, but it is possible to design a &quot;queue&quot; system rather than an overriding system with a bit more requisite knowledge outside the scope of this tutorial.</p>
<p><strong>Create</strong> the following class:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#a9b7c6;--prism-background-color:#2b2b2b"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#a9b7c6;background-color:#2b2b2b"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#a9b7c6"><span class="token keyword" style="color:#cc7832">public</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">class</span><span class="token plain"> </span><span class="token class-name">TrackScheduler</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">implements</span><span class="token plain"> </span><span class="token class-name">AudioLoadResultHandler</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token keyword" style="color:#cc7832">private</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">AudioPlayer</span><span class="token plain"> player</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token keyword" style="color:#cc7832">public</span><span class="token plain"> </span><span class="token class-name">TrackScheduler</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">AudioPlayer</span><span class="token plain"> player</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token keyword" style="color:#cc7832">this</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token plain">player </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> player</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#a9b7c6">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token keyword" style="color:#cc7832">public</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">void</span><span class="token plain"> </span><span class="token function" style="color:#ffc66d">trackLoaded</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">AudioTrack</span><span class="token plain"> track</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token comment" style="color:#808080">// LavaPlayer found an audio source for us to play</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        player</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">playTrack</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">track</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#a9b7c6">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token keyword" style="color:#cc7832">public</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">void</span><span class="token plain"> </span><span class="token function" style="color:#ffc66d">playlistLoaded</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">AudioPlaylist</span><span class="token plain"> playlist</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token comment" style="color:#808080">// LavaPlayer found multiple AudioTracks from some playlist</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#a9b7c6">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token keyword" style="color:#cc7832">public</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">void</span><span class="token plain"> </span><span class="token function" style="color:#ffc66d">noMatches</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token comment" style="color:#808080">// LavaPlayer did not find any audio to extract</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#a9b7c6">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token keyword" style="color:#cc7832">public</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">void</span><span class="token plain"> </span><span class="token function" style="color:#ffc66d">loadFailed</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">FriendlyException</span><span class="token plain"> exception</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">        </span><span class="token comment" style="color:#808080">// LavaPlayer could not parse an audio source for some reason</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain"></span><span class="token punctuation" style="color:#a9b7c6">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-27">Step 27<a href="#step-27" class="hash-link" aria-label="Direct link to Step 27" title="Direct link to Step 27">​</a></h4>
<p>Now, let&#x27;s add the command. We are going to add a &quot;play&quot; command, but with an additional technique to extract arguments from it. We will not be doing any sort of validation (i.e., check if the argument exists or if there are more than 1 arguments), but it would likely be a good idea to do so at a later date.</p>
<p><strong>Add</strong> the following code right after your &quot;join&quot; command.</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="imperative-approach-3">Imperative Approach<a href="#imperative-approach-3" class="hash-link" aria-label="Direct link to Imperative Approach" title="Direct link to Imperative Approach">​</a></h6>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#a9b7c6;--prism-background-color:#2b2b2b"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#a9b7c6;background-color:#2b2b2b"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#a9b7c6"><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">TrackScheduler</span><span class="token plain"> scheduler </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">new</span><span class="token plain"> </span><span class="token class-name">TrackScheduler</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">player</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">commands</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">put</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token string" style="color:#6a8759">&quot;play&quot;</span><span class="token punctuation" style="color:#a9b7c6">,</span><span class="token plain"> event </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#a9b7c6">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> content </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> event</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getMessage</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getContent</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">get</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#a9b7c6">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#a9b7c6">&gt;</span><span class="token plain"> command </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> </span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">asList</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">content</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">split</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token string" style="color:#6a8759">&quot; &quot;</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    playerManager</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">loadItem</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">command</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">get</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token number" style="color:#6897bb">1</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">,</span><span class="token plain"> scheduler</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain"></span><span class="token punctuation" style="color:#a9b7c6">}</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="reactive-approach-3">Reactive Approach<a href="#reactive-approach-3" class="hash-link" aria-label="Direct link to Reactive Approach" title="Direct link to Reactive Approach">​</a></h6>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#a9b7c6;--prism-background-color:#2b2b2b"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#a9b7c6;background-color:#2b2b2b"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#a9b7c6"><span class="token keyword" style="color:#cc7832">final</span><span class="token plain"> </span><span class="token class-name">TrackScheduler</span><span class="token plain"> scheduler </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">new</span><span class="token plain"> </span><span class="token class-name">TrackScheduler</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">player</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">commands</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">put</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token string" style="color:#6a8759">&quot;play&quot;</span><span class="token punctuation" style="color:#a9b7c6">,</span><span class="token plain"> event </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> </span><span class="token class-name">Mono</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">justOrEmpty</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getMessage</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">getContent</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">map</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">content </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> </span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">asList</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">content</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">split</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token string" style="color:#6a8759">&quot; &quot;</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">doOnNext</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">command </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> playerManager</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">loadItem</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token plain">command</span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">get</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token number" style="color:#6897bb">1</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">,</span><span class="token plain"> scheduler</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#a9b7c6"><span class="token plain">    </span><span class="token punctuation" style="color:#a9b7c6">.</span><span class="token function" style="color:#ffc66d">then</span><span class="token punctuation" style="color:#a9b7c6">(</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">)</span><span class="token punctuation" style="color:#a9b7c6">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-28">Step 28<a href="#step-28" class="hash-link" aria-label="Direct link to Step 28" title="Direct link to Step 28">​</a></h4>
<p><strong>Rerun</strong> your bot and join a voice channel that the bot can also join. Type <code>!join</code> and then type <code>!play https://www.youtube.com/watch?v=dQw4w9WgXcQ</code>. Congratulations! You now have a bot that can parse commands, have an expandable command system, can join voice channels, and playback audio from YouTube (and other sources LavaPlayer supports).</p>
<p>That is the conclusion of this tutorial! If you have any questions or issues, you may ask in the <a href="https://discord.gg/d4j" target="_blank" rel="noopener noreferrer">Discord4J Discord server</a>. Feedback is also welcomed, and thank you for your interest in learning Discord4J.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/Discord4J/documentation/edit/master/docs/03-Tutorials/03-music-bot-tutorial.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2021-10-23T17:37:40.000Z" itemprop="dateModified">Oct 23, 2021</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/basic-bot-tutorial"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Basic Bot Tutorial</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/interactions/application-commands"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Application Commands</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a><ul><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#setting-up-intellij" class="table-of-contents__link toc-highlight">Setting Up IntelliJ</a></li><li><a href="#creating-a-bot" class="table-of-contents__link toc-highlight">Creating a Bot</a></li><li><a href="#adding-commands" class="table-of-contents__link toc-highlight">Adding Commands</a></li><li><a href="#adding-music" class="table-of-contents__link toc-highlight">Adding Music</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Discord4J Docs</a></li><li class="footer__item"><a href="https://javadoc.io/doc/com.discord4j/discord4j-core" target="_blank" rel="noopener noreferrer" class="footer__link-item">Javadocs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Discord4J/Discord4J" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://projectreactor.io/docs/core/release/reference/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reactor Reference Guide<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.com/developers/docs/intro" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/d4j" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item">
              <a href="https://www.netlify.com">
                <img src="https://www.netlify.com/img/global/badges/netlify-color-accent.svg" alt="Deploys by Netlify">
              </a>
              </li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2015 - 2024 Discord4J - Licensed under LGPLv3.</div></div></div></footer></div>
</body>
</html>