<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Reference/whats-new-in-v3-1" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">What&#x27;s new in v3.1 | Discord4J</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://discord4j.com/whats-new-in-v3-1"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="What&#x27;s new in v3.1 | Discord4J"><meta data-rh="true" name="description" content="Welcome to this next major release in Discord4J, a reactive wrapper library for the Discord REST API and real-time Bot Gateway with voice capabilities."><meta data-rh="true" property="og:description" content="Welcome to this next major release in Discord4J, a reactive wrapper library for the Discord REST API and real-time Bot Gateway with voice capabilities."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://discord4j.com/whats-new-in-v3-1"><link data-rh="true" rel="alternate" href="https://discord4j.com/whats-new-in-v3-1" hreflang="en"><link data-rh="true" rel="alternate" href="https://discord4j.com/whats-new-in-v3-1" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://C7ZMMWOOHU-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-100029628-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-100029628-1",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Discord4J" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.f8f5dca9.css">
<script src="/assets/js/runtime~main.a61b7613.js" defer="defer"></script>
<script src="/assets/js/main.dd0e6ff0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Discord4J Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Discord4J Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Discord4J</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Welcome to Discord4J Docs!</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/quickstart">Quickstart</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/discord-application-tutorial">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/interactions/application-commands">How-to Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/examples">Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/examples">Examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/frequently-asked-questions">Frequently Asked Questions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/glossary">Glossary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interactions">Interactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/specs">Specs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/versions">Versions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/whats-new-in-v3-1">What&#x27;s new in v3.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/whats-new-in-v3-2">What&#x27;s new in v3.2</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/lambda-tutorial">Conceptual Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/migrating-from-v2-x-to-v3-1">Migration Guides</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">What&#x27;s new in v3.1</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>What&#x27;s new in v3.1</h1></header><p>Welcome to this next major release in Discord4J, a reactive wrapper library for the Discord REST API and real-time Bot Gateway with voice capabilities.</p>
<p>After a year of feedback from users since releasing v3.0, we collected a series of changes to provide and support more use cases and bot configurations. While some of these changes could make their way into following v3.0 minor releases, some involve deeper design work that would have an impact on present releases in terms of binary and behavior changes.</p>
<p>In addition, since Discord is an evolving platform, some of its changes also have impact in the type structure that makes it difficult to implement every change in minor releases. As such, a new major release is the opportunity to include all of these changes and prepare the library structure for future additions more rapidly.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="maintenance-mode-for-v30">Maintenance mode for v3.0<a href="#maintenance-mode-for-v30" class="hash-link" aria-label="Direct link to Maintenance mode for v3.0" title="Direct link to Maintenance mode for v3.0">​</a></h2>
<p>After v3.1.0 releases, only bugfixes will be accepted in the 3.0.x branch.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="architectural-changes">Architectural changes<a href="#architectural-changes" class="hash-link" aria-label="Direct link to Architectural changes" title="Direct link to Architectural changes">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="discordclient-is-split-from-gateway-actions">DiscordClient is split from Gateway actions<a href="#discordclient-is-split-from-gateway-actions" class="hash-link" aria-label="Direct link to DiscordClient is split from Gateway actions" title="Direct link to DiscordClient is split from Gateway actions">​</a></h3>
<p>In order to support more use cases, such as bots that don&#x27;t use the Gateway to perform some actions, components related to REST API operations are now structurally separated from the Gateway operations.</p>
<p>This means a <code>DiscordClient</code> no longer gives you access to the Store abstraction for cached entities from the Gateway and is now used to spawn Gateway connections and operating the REST API directly.</p>
<p>Moving forward, the new <code>GatewayDiscordClient</code> represents the place to fetch and work with Gateway-based entities. You now acquire this instance every time to subscribe to <code>DiscordClient::login</code> or <code>GatewayBootstrap::login</code> after creating it with <code>DiscordClient::gateway</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="shard-group-creates-a-gatewaydiscordclient">Shard group creates a GatewayDiscordClient<a href="#shard-group-creates-a-gatewaydiscordclient" class="hash-link" aria-label="Direct link to Shard group creates a GatewayDiscordClient" title="Direct link to Shard group creates a GatewayDiscordClient">​</a></h3>
<p>One of the main goals for this release is to lay the groundwork to build distributed bot architectures, a model where bot components are split across multiple processes.</p>
<p>Since many configurations exist, we decided to orient the creation of <code>GatewayDiscordClient</code> towards &quot;shard groups&quot; that encapsulate caches and events around an arbitrary number of shards. A brand new <code>GatewayBootstrap</code> API provides creating simple, sharded, monolithic or distributed bots from a single place.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="one-eventdispatcher-publishes-for-a-shard-group">One EventDispatcher publishes for a shard group<a href="#one-eventdispatcher-publishes-for-a-shard-group" class="hash-link" aria-label="Direct link to One EventDispatcher publishes for a shard group" title="Direct link to One EventDispatcher publishes for a shard group">​</a></h3>
<p>Building a shard group creates a context that aggregates payloads from joining Gateway connections, publishing <code>Event</code> instances to a single <code>EventDispatcher</code>, simplifying managing a sharded bot within a process.</p>
<p>For this reason, <code>Event</code> instances are now aware of the shard they were created by.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="caches-are-shared-across-a-shard-group">Caches are shared across a shard group<a href="#caches-are-shared-across-a-shard-group" class="hash-link" aria-label="Direct link to Caches are shared across a shard group" title="Direct link to Caches are shared across a shard group">​</a></h3>
<p>Since Gateway updates are processed within a shard group, Stores, our entity cache abstraction, are created once per group. This eases management for single-process sharded bots.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="important-api-changes">Important API changes<a href="#important-api-changes" class="hash-link" aria-label="Direct link to Important API changes" title="Direct link to Important API changes">​</a></h2>
<p>For a more exhaustive list, please look at <a href="#api-changes">API changes</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="promote-snowflake-class-to-common-module">Promote <code>Snowflake</code> class to common module<a href="#promote-snowflake-class-to-common-module" class="hash-link" aria-label="Direct link to promote-snowflake-class-to-common-module" title="Direct link to promote-snowflake-class-to-common-module">​</a></h3>
<p>We moved the <code>discord4j.core.object.util.Snowflake</code> type to <code>discord4j.common.util.Snowflake</code> in order to support all modules across the Discord4J project using it. We feel it is a great abstraction to handle IDs and the primary token of addressing particular Discord entities across the lifetime of your application.</p>
<p>Other types affected by module promotion: <code>Image</code>, <code>Permission</code>, <code>PermissionSet</code>. See <a href="#moved-types">Moved types</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="behavior-changes">Behavior changes<a href="#behavior-changes" class="hash-link" aria-label="Direct link to Behavior changes" title="Direct link to Behavior changes">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="login-completes-on-connect-instead-of-disconnect">Login completes on connect instead of disconnect<a href="#login-completes-on-connect-instead-of-disconnect" class="hash-link" aria-label="Direct link to Login completes on connect instead of disconnect" title="Direct link to Login completes on connect instead of disconnect">​</a></h3>
<p>An important change in this major update is the change of the <code>login()</code> method existing in <code>DiscordClient</code>. We feel that the method makes most sense if it returns a <code>Mono</code> that <em>completes as login succeeds</em>, instead of logout, and to return a <code>GatewayDiscordClient</code> handle for the underlying gateway connections.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="spec-code-is-run-on-subscription-time">Spec code is run on subscription time<a href="#spec-code-is-run-on-subscription-time" class="hash-link" aria-label="Direct link to Spec code is run on subscription time" title="Direct link to Spec code is run on subscription time">​</a></h3>
<p>Previously in v3.0, <code>Spec</code> consumers were called on assembly time, meaning when a reactive pipeline was declared. This could lead to unexpected code execution so moving forward this was changed in alignment to the expectation of reactive programming where no significant work should happen until you subscribe.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="new-features">New features<a href="#new-features" class="hash-link" aria-label="Direct link to New features" title="Direct link to New features">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gateway-intents-support">Gateway intents support<a href="#gateway-intents-support" class="hash-link" aria-label="Direct link to Gateway intents support" title="Direct link to Gateway intents support">​</a></h3>
<p>Add support to establish Gateway connections using the Intent system, reducing the inbound event load on your bot. See <code>GatewayBootstrap::setEnabledIntents</code> or <code>GatewayBootstrap::setDisabledIntents</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="wait-until-gateway-connections-are-ready">Wait until Gateway connections are ready<a href="#wait-until-gateway-connections-are-ready" class="hash-link" aria-label="Direct link to Wait until Gateway connections are ready" title="Direct link to Wait until Gateway connections are ready">​</a></h3>
<p>Allow customizing the behavior whether a <code>GatewayDiscordClient</code> should be obtained immediately (similar to v3.0 behavior) or to wait until all shards in the group have connected (Discord &quot;READY&quot; status). Check <code>GatewayBootstrap::setAwaitConnections</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-eventdispatcher">Custom EventDispatcher<a href="#custom-eventdispatcher" class="hash-link" aria-label="Direct link to Custom EventDispatcher" title="Direct link to Custom EventDispatcher">​</a></h3>
<p>Allow changing the <code>EventDispatcher</code> implementation for event handling. Check the class for builders and factories.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entity-retrieval-strategy">Entity retrieval strategy<a href="#entity-retrieval-strategy" class="hash-link" aria-label="Direct link to Entity retrieval strategy" title="Direct link to Entity retrieval strategy">​</a></h3>
<p>Allow modifying the behavior of the <code>getXById</code> methods in <code>GatewayDiscordClient</code>. By default, like in v3.0, if a requested entity is not present in the <code>Store</code>, a REST API request is made. Since this might not be desired, you can globally change the behavior at <code>GatewayBootstrap::setEntityRetrievalStrategy</code> or per-call through <code>GatewayDiscordClient::withRetrievalStrategy</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-reactor-resources-used-by-rest-gateway-and-voice">Custom Reactor resources used by REST, Gateway and Voice<a href="#custom-reactor-resources-used-by-rest-gateway-and-voice" class="hash-link" aria-label="Direct link to Custom Reactor resources used by REST, Gateway and Voice" title="Direct link to Custom Reactor resources used by REST, Gateway and Voice">​</a></h3>
<p>All Reactor resources used by Discord4J can be configured, across REST, Gateway and Voice operations. You can now control almost every aspect of Discord4J threading model.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="guild-member-request-behavior">Guild member request behavior<a href="#guild-member-request-behavior" class="hash-link" aria-label="Direct link to Guild member request behavior" title="Direct link to Guild member request behavior">​</a></h3>
<p>Allow providing a custom <code>MemberRequestFilter</code> to more explicitly control member requests should be automatically issued. Check <code>GatewayBootstrap::setMemberRequestFilter</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="on-demand-guild-member-request-lazy-loading">On-demand guild member request (lazy loading)<a href="#on-demand-guild-member-request-lazy-loading" class="hash-link" aria-label="Direct link to On-demand guild member request (lazy loading)" title="Direct link to On-demand guild member request (lazy loading)">​</a></h3>
<p>Add methods to directly request for guild members, such as <code>GatewayDiscordClient::requestMembers</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rest-only-entities">REST-only entities<a href="#rest-only-entities" class="hash-link" aria-label="Direct link to REST-only entities" title="Direct link to REST-only entities">​</a></h3>
<p>Allow working with Discord4J without an active Gateway connection. Just create a <code>DiscordClient</code> and perform calls through the <code>getXById</code> methods to use REST API directly.</p>
<p>You can also obtain a &quot;REST entity&quot; which wraps a particular entity with its ID (no actual data) and can be used to perform actions without unneeded API requests. These are available directly through one of the entity types supported: <code>RestChannel</code>, <code>RestEmoji</code>, <code>RestGuild</code>, <code>RestInvite</code>, <code>RestMember</code>, <code>RestMessage</code>, <code>RestRole</code>, <code>RestUser</code>, <code>RestWebhook</code>.</p>
<p>Obtaining a <code>RestClient</code> can be done through <code>GatewayDiscordClient::rest</code> or any <code>DiscordClient</code> instance, capable of directly querying the API or creating such REST entities.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="normalized-internal-data-representation">Normalized internal data representation<a href="#normalized-internal-data-representation" class="hash-link" aria-label="Direct link to Normalized internal data representation" title="Direct link to Normalized internal data representation">​</a></h3>
<p>A large effort is made into converging our many internal data structures into a more maintainable approach. We decide to use Immutables library to model the Discord domain through <code>Data</code> classes. All are created with a <code>Builder</code> that can simplify their usage when interacting with some API, particularly through REST-only entities.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="shardcoordinator-abstraction">ShardCoordinator abstraction<a href="#shardcoordinator-abstraction" class="hash-link" aria-label="Direct link to ShardCoordinator abstraction" title="Direct link to ShardCoordinator abstraction">​</a></h3>
<p>A new abstraction is created to support coordination of Gateway IDENTIFY requests across multiple processes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="more-sharding-configurations-supported">More sharding configurations supported<a href="#more-sharding-configurations-supported" class="hash-link" aria-label="Direct link to More sharding configurations supported" title="Direct link to More sharding configurations supported">​</a></h3>
<p>A builder to configure how a shard group creates shards is available through <code>ShardingStrategy</code> and can be set at <code>GatewayBootstrap</code>. The total shard count can be fixed or used as recommended by Discord, connect specific shards by index, and support a sharding concurrency value or &quot;very large bot sharding system&quot;.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="improved-rate-limiting-implementations">Improved rate limiting implementations<a href="#improved-rate-limiting-implementations" class="hash-link" aria-label="Direct link to Improved rate limiting implementations" title="Direct link to Improved rate limiting implementations">​</a></h3>
<p>Provide a new approach to rate limit which increases throughput without locking structures. This is used across all of Discord4J: REST request queue, REST global rate limiter, Gateway identify limit and Gateway outbound limit.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-maximum-missed-heartbeat-ack">Custom maximum missed heartbeat ACK<a href="#custom-maximum-missed-heartbeat-ack" class="hash-link" aria-label="Direct link to Custom maximum missed heartbeat ACK" title="Direct link to Custom maximum missed heartbeat ACK">​</a></h3>
<p>Bring back a setting from v2 to help deal with connection instability by avoiding detecting zombie connections too early.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-voice-gateway-connection-factory">Custom Voice Gateway connection factory<a href="#custom-voice-gateway-connection-factory" class="hash-link" aria-label="Direct link to Custom Voice Gateway connection factory" title="Direct link to Custom Voice Gateway connection factory">​</a></h3>
<p>Provide new API to customize Voice operations and tasks, in an effort to help integrate it with other tools and frameworks.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-gateway-invalidation-strategy">Custom Gateway invalidation strategy<a href="#custom-gateway-invalidation-strategy" class="hash-link" aria-label="Direct link to Custom Gateway invalidation strategy" title="Direct link to Custom Gateway invalidation strategy">​</a></h3>
<p>Allow customizing the actions that should occur on the entity cache on shard invalidation (non-resumable disconnections)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-gateway-destroy-handler">Custom Gateway destroy handler<a href="#custom-gateway-destroy-handler" class="hash-link" aria-label="Direct link to Custom Gateway destroy handler" title="Direct link to Custom Gateway destroy handler">​</a></h3>
<p>Allow customizing the actions that should occur when logging out a shard group from the Gateway.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-gateway-to-event-mapping">Custom Gateway to Event mapping<a href="#custom-gateway-to-event-mapping" class="hash-link" aria-label="Direct link to Custom Gateway to Event mapping" title="Direct link to Custom Gateway to Event mapping">​</a></h3>
<p>Allow customizing how are <code>Event</code> instances created from the Gateway updates, potentially enriching or disabling the original handling.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-or-extend-gateway-configuration">Custom or extend Gateway configuration<a href="#custom-or-extend-gateway-configuration" class="hash-link" aria-label="Direct link to Custom or extend Gateway configuration" title="Direct link to Custom or extend Gateway configuration">​</a></h3>
<p>Provide access to the low-level <code>GatewayClient</code> configuration, allowing extension for custom <code>GatewayClient</code> factories. This is particularly useful to create distributed bot architectures.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-changes">API changes<a href="#api-changes" class="hash-link" aria-label="Direct link to API changes" title="Direct link to API changes">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="signature-changes">Signature changes<a href="#signature-changes" class="hash-link" aria-label="Direct link to Signature changes" title="Direct link to Signature changes">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="discordclient">DiscordClient<a href="#discordclient" class="hash-link" aria-label="Direct link to DiscordClient" title="Direct link to DiscordClient">​</a></h4>
<ul>
<li>Login returns <code>Mono&lt;GatewayDiscordClient&gt;</code> and emits on Gateway connection instead of disconnection.</li>
<li>Can only be created from factory methods.</li>
<li>Methods that retrieved entities like <code>getGuildById</code> now return REST-only entities. If you want to keep the old behavior, create a <code>GatewayDiscordClient</code> through one of the login methods.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="discordclientbuilder">DiscordClientBuilder<a href="#discordclientbuilder" class="hash-link" aria-label="Direct link to DiscordClientBuilder" title="Direct link to DiscordClientBuilder">​</a></h4>
<ul>
<li>Methods that configured Gateway-specific options were moved to <code>GatewayBootstrap</code>.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="payloadtransformer">PayloadTransformer<a href="#payloadtransformer" class="hash-link" aria-label="Direct link to PayloadTransformer" title="Direct link to PayloadTransformer">​</a></h4>
<p>It is now a <code>Flux&lt;ByteBuf&gt;</code> operator.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="identifyoptions">IdentifyOptions<a href="#identifyoptions" class="hash-link" aria-label="Direct link to IdentifyOptions" title="Direct link to IdentifyOptions">​</a></h4>
<p>Constructor made private. This class was also made immutable with a rich set of methods to customize more options.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="globalratelimiter">GlobalRateLimiter<a href="#globalratelimiter" class="hash-link" aria-label="Direct link to GlobalRateLimiter" title="Direct link to GlobalRateLimiter">​</a></h4>
<p>Migrate to reactive API.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="closeexception">CloseException<a href="#closeexception" class="hash-link" aria-label="Direct link to CloseException" title="Direct link to CloseException">​</a></h4>
<p>Method <code>getReason</code> now returns Optional. In addition, improved <code>toString()</code> method and added <code>getContext()</code>. A related class <code>CloseStatus</code> also had its <code>getReason</code> method changed in the same way.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="readyevent">ReadyEvent<a href="#readyevent" class="hash-link" aria-label="Direct link to ReadyEvent" title="Direct link to ReadyEvent">​</a></h4>
<p>getTrace now returns a List&lt;String&gt;.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="messagebulkdeleteevent">MessageBulkDeleteEvent<a href="#messagebulkdeleteevent" class="hash-link" aria-label="Direct link to MessageBulkDeleteEvent" title="Direct link to MessageBulkDeleteEvent">​</a></h4>
<p>getChannel now returns a Mono&lt;TextChannel&gt; instead of Mono&lt;MessageChannel&gt;.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-types">New types<a href="#new-types" class="hash-link" aria-label="Direct link to New types" title="Direct link to New types">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="color">Color<a href="#color" class="hash-link" aria-label="Direct link to Color" title="Direct link to Color">​</a></h4>
<p>Our own color class to avoid a java.desktop module dependency.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="reactorresources">ReactorResources<a href="#reactorresources" class="hash-link" aria-label="Direct link to ReactorResources" title="Direct link to ReactorResources">​</a></h4>
<p>A place to customize many Reactor related options.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="stateview">StateView<a href="#stateview" class="hash-link" aria-label="Direct link to StateView" title="Direct link to StateView">​</a></h4>
<p>A read-only view for the entity cache (store) contents.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="shardcoordinator">ShardCoordinator<a href="#shardcoordinator" class="hash-link" aria-label="Direct link to ShardCoordinator" title="Direct link to ShardCoordinator">​</a></h4>
<p>New class to group shard operations across JVM boundaries.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="shardinfo">ShardInfo<a href="#shardinfo" class="hash-link" aria-label="Direct link to ShardInfo" title="Direct link to ShardInfo">​</a></h4>
<p>New class to group shard index and count.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="sessioninfo">SessionInfo<a href="#sessioninfo" class="hash-link" aria-label="Direct link to SessionInfo" title="Direct link to SessionInfo">​</a></h4>
<p>New class to group sessionId and sequence.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rest-only-entities-1">REST-only entities<a href="#rest-only-entities-1" class="hash-link" aria-label="Direct link to REST-only entities" title="Direct link to REST-only entities">​</a></h4>
<p>Introduce types related to rest module operations.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="gatewayoptions">GatewayOptions<a href="#gatewayoptions" class="hash-link" aria-label="Direct link to GatewayOptions" title="Direct link to GatewayOptions">​</a></h4>
<p>Refactored all parameters used by DefaultGatewayClient and extracted them to this new class.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dispatcheventmapper">DispatchEventMapper<a href="#dispatcheventmapper" class="hash-link" aria-label="Direct link to DispatchEventMapper" title="Direct link to DispatchEventMapper">​</a></h4>
<p>Allow customizing the process in which Gateway payloads are processed and converted into Events.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="events">Events<a href="#events" class="hash-link" aria-label="Direct link to Events" title="Direct link to Events">​</a></h4>
<ul>
<li>New event: ReactionRemoveEmojiEvent</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="moved-types">Moved types<a href="#moved-types" class="hash-link" aria-label="Direct link to Moved types" title="Direct link to Moved types">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="snowflake">Snowflake<a href="#snowflake" class="hash-link" aria-label="Direct link to Snowflake" title="Direct link to Snowflake">​</a></h4>
<p>Moved from <code>discord4j.core.object.util</code> to <code>discord4j.common.util</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="permission-and-permissionset">Permission and PermissionSet<a href="#permission-and-permissionset" class="hash-link" aria-label="Direct link to Permission and PermissionSet" title="Direct link to Permission and PermissionSet">​</a></h4>
<p>Moved from <code>discord4j.core.object.util</code> to <code>discord4j.rest.util</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="image">Image<a href="#image" class="hash-link" aria-label="Direct link to Image" title="Direct link to Image">​</a></h4>
<p>Moved from <code>discord4j.core.object.util</code> to <code>discord4j.rest.util</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="possible">Possible<a href="#possible" class="hash-link" aria-label="Direct link to Possible" title="Direct link to Possible">​</a></h4>
<p>Moved to the discord-json project which is now a dependency of discord4j-common.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="renamed-types">Renamed types<a href="#renamed-types" class="hash-link" aria-label="Direct link to Renamed types" title="Direct link to Renamed types">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="jacksonresources">JacksonResources<a href="#jacksonresources" class="hash-link" aria-label="Direct link to JacksonResources" title="Direct link to JacksonResources">​</a></h4>
<p>Formerly JacksonResourceProvider.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="reconnectoptions">ReconnectOptions<a href="#reconnectoptions" class="hash-link" aria-label="Direct link to ReconnectOptions" title="Direct link to ReconnectOptions">​</a></h4>
<p>Formerly <code>RetryOptions</code>, it is now immutable, split from the stateful <code>ReconnectContext</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="reconnectcontext">ReconnectContext<a href="#reconnectcontext" class="hash-link" aria-label="Direct link to ReconnectContext" title="Direct link to ReconnectContext">​</a></h4>
<p>Formerly <code>RetryContext</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="removed-types">Removed types<a href="#removed-types" class="hash-link" aria-label="Direct link to Removed types" title="Direct link to Removed types">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="clientconfig">ClientConfig<a href="#clientconfig" class="hash-link" aria-label="Direct link to ClientConfig" title="Direct link to ClientConfig">​</a></h4>
<p>Shard information can now be obtained from each <code>Event</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="servicemediator">ServiceMediator<a href="#servicemediator" class="hash-link" aria-label="Direct link to ServiceMediator" title="Direct link to ServiceMediator">​</a></h4>
<p>State and resources held by this class were relocated to appropriate components:</p>
<ul>
<li>GatewayClient are now located in GatewayClientGroup which is accessible from a GatewayDiscordClient</li>
<li>RestClient is now the parent class of DiscordClient so methods can be called directly from it</li>
<li>StateHolder is now available at GatewayResources, accessible from GatewayDiscordClient</li>
<li>EventDispatcher is accessible from GatewayDiscordClient</li>
<li>VoiceClient was replaced by a VoiceConnectionRegistry, a far more powerful alternative, accessible from GatewayDiscordClient</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="gatewayclientfactory">GatewayClientFactory<a href="#gatewayclientfactory" class="hash-link" aria-label="Direct link to GatewayClientFactory" title="Direct link to GatewayClientFactory">​</a></h4>
<p><code>GatewayClientFactory</code> was removed as it can be now be used in a functional way within <code>GatewayBootstrap::login(Function)</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ratelimitertransformer">RateLimiterTransformer<a href="#ratelimitertransformer" class="hash-link" aria-label="Direct link to RateLimiterTransformer" title="Direct link to RateLimiterTransformer">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ratelimiter">RateLimiter<a href="#ratelimiter" class="hash-link" aria-label="Direct link to RateLimiter" title="Direct link to RateLimiter">​</a></h4>
<p>Removed interface, along with SimpleBucket, as part of the rate limiting implementations rework.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="additions">Additions<a href="#additions" class="hash-link" aria-label="Direct link to Additions" title="Direct link to Additions">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="event">Event<a href="#event" class="hash-link" aria-label="Direct link to Event" title="Direct link to Event">​</a></h4>
<p>Add getShardInfo.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="gatewaystatechange">GatewayStateChange<a href="#gatewaystatechange" class="hash-link" aria-label="Direct link to GatewayStateChange" title="Direct link to GatewayStateChange">​</a></h4>
<p>Add resume states to <code>GatewayStateChange</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="memberchunkevent">MemberChunkEvent<a href="#memberchunkevent" class="hash-link" aria-label="Direct link to MemberChunkEvent" title="Direct link to MemberChunkEvent">​</a></h4>
<p>Add new methods related to chunk index, count, etc.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="renames">Renames<a href="#renames" class="hash-link" aria-label="Direct link to Renames" title="Direct link to Renames">​</a></h3>
<p>None</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="removals">Removals<a href="#removals" class="hash-link" aria-label="Direct link to Removals" title="Direct link to Removals">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="discordclientbuilder-1">DiscordClientBuilder<a href="#discordclientbuilder-1" class="hash-link" aria-label="Direct link to DiscordClientBuilder" title="Direct link to DiscordClientBuilder">​</a></h4>
<ul>
<li>No longer possible to set debug mode. Use the reactor-debug-agent or <code>Hooks.onOperatorDebug()</code> at the start of your application if you wish to retain this capability.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/Discord4J/documentation/edit/master/docs/05-Reference/whats-new-in-v3.1.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2021-09-09T16:55:40.000Z" itemprop="dateModified">Sep 9, 2021</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/versions"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Versions</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/whats-new-in-v3-2"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">What&#x27;s new in v3.2</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#maintenance-mode-for-v30" class="table-of-contents__link toc-highlight">Maintenance mode for v3.0</a></li><li><a href="#architectural-changes" class="table-of-contents__link toc-highlight">Architectural changes</a><ul><li><a href="#discordclient-is-split-from-gateway-actions" class="table-of-contents__link toc-highlight">DiscordClient is split from Gateway actions</a></li><li><a href="#shard-group-creates-a-gatewaydiscordclient" class="table-of-contents__link toc-highlight">Shard group creates a GatewayDiscordClient</a></li><li><a href="#one-eventdispatcher-publishes-for-a-shard-group" class="table-of-contents__link toc-highlight">One EventDispatcher publishes for a shard group</a></li><li><a href="#caches-are-shared-across-a-shard-group" class="table-of-contents__link toc-highlight">Caches are shared across a shard group</a></li></ul></li><li><a href="#important-api-changes" class="table-of-contents__link toc-highlight">Important API changes</a><ul><li><a href="#promote-snowflake-class-to-common-module" class="table-of-contents__link toc-highlight">Promote <code>Snowflake</code> class to common module</a></li></ul></li><li><a href="#behavior-changes" class="table-of-contents__link toc-highlight">Behavior changes</a><ul><li><a href="#login-completes-on-connect-instead-of-disconnect" class="table-of-contents__link toc-highlight">Login completes on connect instead of disconnect</a></li><li><a href="#spec-code-is-run-on-subscription-time" class="table-of-contents__link toc-highlight">Spec code is run on subscription time</a></li></ul></li><li><a href="#new-features" class="table-of-contents__link toc-highlight">New features</a><ul><li><a href="#gateway-intents-support" class="table-of-contents__link toc-highlight">Gateway intents support</a></li><li><a href="#wait-until-gateway-connections-are-ready" class="table-of-contents__link toc-highlight">Wait until Gateway connections are ready</a></li><li><a href="#custom-eventdispatcher" class="table-of-contents__link toc-highlight">Custom EventDispatcher</a></li><li><a href="#entity-retrieval-strategy" class="table-of-contents__link toc-highlight">Entity retrieval strategy</a></li><li><a href="#custom-reactor-resources-used-by-rest-gateway-and-voice" class="table-of-contents__link toc-highlight">Custom Reactor resources used by REST, Gateway and Voice</a></li><li><a href="#guild-member-request-behavior" class="table-of-contents__link toc-highlight">Guild member request behavior</a></li><li><a href="#on-demand-guild-member-request-lazy-loading" class="table-of-contents__link toc-highlight">On-demand guild member request (lazy loading)</a></li><li><a href="#rest-only-entities" class="table-of-contents__link toc-highlight">REST-only entities</a></li><li><a href="#normalized-internal-data-representation" class="table-of-contents__link toc-highlight">Normalized internal data representation</a></li><li><a href="#shardcoordinator-abstraction" class="table-of-contents__link toc-highlight">ShardCoordinator abstraction</a></li><li><a href="#more-sharding-configurations-supported" class="table-of-contents__link toc-highlight">More sharding configurations supported</a></li><li><a href="#improved-rate-limiting-implementations" class="table-of-contents__link toc-highlight">Improved rate limiting implementations</a></li><li><a href="#custom-maximum-missed-heartbeat-ack" class="table-of-contents__link toc-highlight">Custom maximum missed heartbeat ACK</a></li><li><a href="#custom-voice-gateway-connection-factory" class="table-of-contents__link toc-highlight">Custom Voice Gateway connection factory</a></li><li><a href="#custom-gateway-invalidation-strategy" class="table-of-contents__link toc-highlight">Custom Gateway invalidation strategy</a></li><li><a href="#custom-gateway-destroy-handler" class="table-of-contents__link toc-highlight">Custom Gateway destroy handler</a></li><li><a href="#custom-gateway-to-event-mapping" class="table-of-contents__link toc-highlight">Custom Gateway to Event mapping</a></li><li><a href="#custom-or-extend-gateway-configuration" class="table-of-contents__link toc-highlight">Custom or extend Gateway configuration</a></li></ul></li><li><a href="#api-changes" class="table-of-contents__link toc-highlight">API changes</a><ul><li><a href="#signature-changes" class="table-of-contents__link toc-highlight">Signature changes</a></li><li><a href="#new-types" class="table-of-contents__link toc-highlight">New types</a></li><li><a href="#moved-types" class="table-of-contents__link toc-highlight">Moved types</a></li><li><a href="#removed-types" class="table-of-contents__link toc-highlight">Removed types</a></li><li><a href="#additions" class="table-of-contents__link toc-highlight">Additions</a></li><li><a href="#renames" class="table-of-contents__link toc-highlight">Renames</a></li><li><a href="#removals" class="table-of-contents__link toc-highlight">Removals</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Discord4J Docs</a></li><li class="footer__item"><a href="https://javadoc.io/doc/com.discord4j/discord4j-core" target="_blank" rel="noopener noreferrer" class="footer__link-item">Javadocs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Discord4J/Discord4J" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://projectreactor.io/docs/core/release/reference/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reactor Reference Guide<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.com/developers/docs/intro" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/d4j" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item">
              <a href="https://www.netlify.com">
                <img src="https://www.netlify.com/img/global/badges/netlify-color-accent.svg" alt="Deploys by Netlify">
              </a>
              </li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2015 - 2024 Discord4J - Licensed under LGPLv3.</div></div></div></footer></div>
</body>
</html>