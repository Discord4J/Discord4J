"use strict";(self.webpackChunkdiscord4j_documentation=self.webpackChunkdiscord4j_documentation||[]).push([[481],{2717:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>l});var s=t(4848),i=t(8453);const o={id:"interactions",title:"Interactions",sidebar_label:"Interactions",slug:"/interactions"},d=void 0,r={id:"Reference/interactions",title:"Interactions",description:"Interaction Hierarchy",source:"@site/docs/05-Reference/interactions.mdx",sourceDirName:"05-Reference",slug:"/interactions",permalink:"/interactions",draft:!1,unlisted:!1,editUrl:"https://github.com/Discord4J/documentation/edit/master/docs/05-Reference/interactions.mdx",tags:[],version:"current",lastUpdatedAt:1712939151e3,frontMatter:{id:"interactions",title:"Interactions",sidebar_label:"Interactions",slug:"/interactions"},sidebar:"mySidebar",previous:{title:"Glossary",permalink:"/glossary"},next:{title:"Specs",permalink:"/specs"}},c={},l=[{value:"Interaction Hierarchy",id:"interaction-hierarchy",level:2},{value:"Application Commands",id:"application-commands",level:2},{value:"Chat Input (Slash Commands)",id:"chat-input-slash-commands",level:3},{value:"Options",id:"options",level:4},{value:"Option Types",id:"option-types",level:4},{value:"Choices",id:"choices",level:4},{value:"Message Commands",id:"message-commands",level:3},{value:"User Commands",id:"user-commands",level:3},{value:"Buttons",id:"buttons",level:2},{value:"Button Styles",id:"button-styles",level:3},{value:"Disabled buttons",id:"disabled-buttons",level:3},{value:"Emoji Buttons",id:"emoji-buttons",level:3},{value:"Select Menus",id:"select-menus",level:2},{value:"Auto Complete",id:"auto-complete",level:2},{value:"Method summary",id:"method-summary",level:2},{value:"Further Reading",id:"further-reading",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"interaction-hierarchy",children:"Interaction Hierarchy"}),"\n",(0,s.jsx)(n.p,{children:"Discord sends a single event over the gateway for all interactions. Discord4J breaks this down into separate event classes allowing a better development experience for handling the interactions you care about. We use the following hierarchy to accomplish this."}),"\n",(0,s.jsx)("img",{src:"/img/interactions/hierarchy.svg"}),"\n",(0,s.jsx)(n.h2,{id:"application-commands",children:"Application Commands"}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["For information on how to use application commands, see ",(0,s.jsx)(n.a,{href:"/interactions/application-commands",children:"How-to Guides - Application Commands"}),"."]})}),"\n",(0,s.jsx)(n.p,{children:"Application commands encompass several types of interactions:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'A chat input command (formerly "slash command"), which allows users to type a command in the chat box.'}),"\n",(0,s.jsx)(n.li,{children:'Message command, which allows right-clicking on a message and using a context menu interaction (ex. "star message").'}),"\n",(0,s.jsx)(n.li,{children:'Or User command, which allows right-clicking on a user and using a context menu interaction (ex. "temp mute").'}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["In order for guilds to use application commands your bot has created, it is required that the bot be invited with the ",(0,s.jsx)(n.code,{children:"applications.commands"})," scope in addition to the ",(0,s.jsx)(n.code,{children:"bot"})," scope."]}),"\n",(0,s.jsx)(n.p,{children:"Application commands can be registered globally (accessible to all guilds that your bot is invited to), or per-guild; allowing each guild to have their own unique commands as they see fit."}),"\n",(0,s.jsx)(n.h3,{id:"chat-input-slash-commands",children:"Chat Input (Slash Commands)"}),"\n",(0,s.jsx)("img",{src:"/img/interactions/chat-command-reply.png"}),"\n",(0,s.jsx)(n.h4,{id:"options",children:"Options"}),"\n",(0,s.jsxs)(n.p,{children:["Chat input commands can have ",(0,s.jsx)(n.code,{children:"options"}),". These are just like arguments in a method, but for discord commands."]}),"\n",(0,s.jsx)(n.h4,{id:"option-types",children:"Option Types"}),"\n",(0,s.jsx)(n.p,{children:"Discord provides several built in types for options that define how each of them behave and their data type."}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Name"}),(0,s.jsx)(n.th,{children:"Value"}),(0,s.jsx)(n.th,{children:"Note"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"SUB_COMMAND"}),(0,s.jsx)(n.td,{children:"1"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"SUB_COMMAND_GROUP"}),(0,s.jsx)(n.td,{children:"2"}),(0,s.jsx)(n.td,{children:"Transparent to the user; a way to organize your commands in code"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"STRING"}),(0,s.jsx)(n.td,{children:"3"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"INTEGER"}),(0,s.jsx)(n.td,{children:"4"}),(0,s.jsx)(n.td,{children:"Any integer between -2^53 and 2^53"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"BOOLEAN"}),(0,s.jsx)(n.td,{children:"5"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"USER"}),(0,s.jsx)(n.td,{children:"6"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"CHANNEL"}),(0,s.jsx)(n.td,{children:"7"}),(0,s.jsx)(n.td,{children:"Includes all channel types + categories"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"ROLE"}),(0,s.jsx)(n.td,{children:"8"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"MENTIONABLE"}),(0,s.jsx)(n.td,{children:"9"}),(0,s.jsx)(n.td,{children:"Includes all users/roles"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"NUMBER"}),(0,s.jsx)(n.td,{children:"10"}),(0,s.jsx)(n.td,{children:"Any floating point number between -2^53 and 2^53"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"ATTACHMENT"}),(0,s.jsx)(n.td,{children:"11"}),(0,s.jsx)(n.td,{children:"File attachment"})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"choices",children:"Choices"}),"\n",(0,s.jsxs)(n.p,{children:["Choices can be defined on the ",(0,s.jsx)(n.code,{children:"STRING"}),", ",(0,s.jsx)(n.code,{children:"INTEGER"}),", and ",(0,s.jsx)(n.code,{children:"NUMBER"})," option types. ",(0,s.jsx)(n.code,{children:"choices"})," are preset values the user can pick when selecting the option that contains them."]}),"\n",(0,s.jsx)(n.admonition,{type:"caution",children:(0,s.jsx)(n.p,{children:"If you specify choices for an option, these are the only valid values a user may pick."})}),"\n",(0,s.jsx)(n.h3,{id:"message-commands",children:"Message Commands"}),"\n",(0,s.jsx)(n.p,{children:"Message commands are a type of application command that is visible in the right click context menu of a message."}),"\n",(0,s.jsx)(n.p,{children:"Message commands, unlike chat input, do not support options or descriptions."}),"\n",(0,s.jsx)(n.h3,{id:"user-commands",children:"User Commands"}),"\n",(0,s.jsx)(n.p,{children:"User commands are a type of application command that is visible in the right click context menu of a user."}),"\n",(0,s.jsx)(n.p,{children:"User commands, unlike chat input, do not support options or descriptions."}),"\n",(0,s.jsx)(n.h2,{id:"buttons",children:"Buttons"}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["For information on how to use buttons, see ",(0,s.jsx)(n.a,{href:"/interactions/buttons",children:"How-to Guides - Buttons"}),"."]})}),"\n",(0,s.jsx)(n.p,{children:"Buttons are interactive components on a Message. Similar to the old-school reaction buttons, these provide cleaner UI/UX than a small reaction button and are the preferred way of handling such inputs now."}),"\n",(0,s.jsxs)(n.p,{children:["Buttons must be inside an ",(0,s.jsx)(n.code,{children:"ActionRow"})]}),"\n",(0,s.jsxs)(n.admonition,{type:"caution",children:[(0,s.jsxs)(n.p,{children:["You can have up to 5 ",(0,s.jsx)(n.code,{children:"ActionRow"}),"s per message, and up to 5 ",(0,s.jsx)(n.code,{children:"Button"}),"s within each ",(0,s.jsx)(n.code,{children:"ActionRow"}),"."]}),(0,s.jsx)(n.p,{children:"Action rows with buttons cannot have select menus."})]}),"\n",(0,s.jsx)(n.h3,{id:"button-styles",children:"Button Styles"}),"\n",(0,s.jsx)(n.p,{children:"Button styles offer a number of ways for a button to display"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Style"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PRIMARY"}),(0,s.jsx)(n.td,{children:"A blurple button"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"SECONDARY"}),(0,s.jsx)(n.td,{children:"A grey button"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"SUCCESS"}),(0,s.jsx)(n.td,{children:"A green button"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"DANGER"}),(0,s.jsx)(n.td,{children:"A red button"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"LINK"}),(0,s.jsx)(n.td,{children:"A grey button, that navigates to a URL"})]})]})]}),"\n",(0,s.jsx)("img",{src:"/img/interactions/button-styles.png"}),"\n",(0,s.jsx)(n.admonition,{type:"caution",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"LINK"})," style buttons cannot have a ",(0,s.jsx)(n.code,{children:"custom_id"})," and will not send an interaction event when a user clicks on it."]})}),"\n",(0,s.jsx)(n.h3,{id:"disabled-buttons",children:"Disabled buttons"}),"\n",(0,s.jsxs)(n.p,{children:["Buttons can be disabled to prevent user interaction. When set to ",(0,s.jsx)(n.code,{children:"disabled"})," the button will appear grayed out."]}),"\n",(0,s.jsx)("img",{src:"/img/interactions/disabled-button.png"}),"\n",(0,s.jsx)(n.h3,{id:"emoji-buttons",children:"Emoji Buttons"}),"\n",(0,s.jsx)(n.p,{children:"Buttons can also display an emoji rather than text if desired"}),"\n",(0,s.jsx)("img",{src:"/img/interactions/emoji-button.png"}),"\n",(0,s.jsx)(n.h2,{id:"select-menus",children:"Select Menus"}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["For information on how to use Select Menus, see ",(0,s.jsx)(n.a,{href:"/interactions/select-menus",children:"How-to Guides - Select Menus"}),"."]})}),"\n",(0,s.jsx)(n.p,{children:"Select menus allow a dropdown to be displayed on a message itself rather than only inside the command input window."}),"\n",(0,s.jsxs)(n.p,{children:["Like Buttons, select menus must be inside of an ",(0,s.jsx)(n.code,{children:"ActionRow"})]}),"\n",(0,s.jsxs)(n.admonition,{type:"caution",children:[(0,s.jsxs)(n.p,{children:["You can have up to 5 ",(0,s.jsx)(n.code,{children:"ActionRow"}),"s per message, and only one select menu per ",(0,s.jsx)(n.code,{children:"ActionRow"}),"."]}),(0,s.jsx)(n.p,{children:"Action rows with select menus cannot have buttons."})]}),"\n",(0,s.jsx)(n.h2,{id:"auto-complete",children:"Auto Complete"}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["For information on how to use Auto Complete, see ",(0,s.jsx)(n.a,{href:"/interactions/auto-complete",children:"How-to Guides - Auto Complete"}),"."]})}),"\n",(0,s.jsxs)(n.p,{children:["Auto complete allows a bot to give the user suggestions when the user is typing a command option with auto complete enabled.\r\nIt can be used for a variety of use cases, the most common being to suggest the correct input when more than 25 options are needed.\r\nIt is only available for ",(0,s.jsx)(n.code,{children:"STRING"}),", ",(0,s.jsx)(n.code,{children:"NUMBER"}),", and ",(0,s.jsx)(n.code,{children:"INTEGER"})," option types and up to 25 suggestions can be provided at a time."]}),"\n",(0,s.jsx)(n.p,{children:"Unlike other interactions, auto complete cannot be deferred and requires only one response within 3 seconds."}),"\n",(0,s.jsx)(n.h2,{id:"method-summary",children:"Method summary"}),"\n",(0,s.jsxs)(n.p,{children:["When you receive an interaction event, you can choose how to handle it, but it must be only ",(0,s.jsx)(n.strong,{children:"one"})," of the following\r\nand must be completed within a three-second window after Discord sends the interaction event."]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Method"}),(0,s.jsx)(n.th,{children:"Application Command events"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"deferReply"}),(0,s.jsx)(n.td,{children:"No message, user sees a loading state"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"reply"}),(0,s.jsx)(n.td,{children:"Include a message"})]})]})]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Method"}),(0,s.jsx)(n.th,{children:"Autocomplete events"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"respondWithSuggestions"}),(0,s.jsx)(n.td,{children:"Up 25 choices will be displayed"})]})})]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Method"}),(0,s.jsx)(n.th,{children:"Component events"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"deferReply"}),(0,s.jsx)(n.td,{children:"No message, user sees a loading state"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"reply"}),(0,s.jsx)(n.td,{children:"Include a message"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"deferEdit"}),(0,s.jsxs)(n.td,{children:["No message, user ",(0,s.jsx)(n.strong,{children:"does not"})," see a loading state"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"edit"}),(0,s.jsx)(n.td,{children:"Update the message that originated the event"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"After the initial response is complete, you can work with the interaction using the following methods:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Method"}),(0,s.jsx)(n.th,{children:"Any DeferrableInteraction event"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"editReply"}),(0,s.jsx)(n.td,{children:"Update the initial response"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"getReply"}),(0,s.jsx)(n.td,{children:"Fetch the initial response"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"deleteReply"}),(0,s.jsx)(n.td,{children:"Delete the initial response"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"createFollowup"}),(0,s.jsx)(n.td,{children:"Create a followup message"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"editFollowup"}),(0,s.jsx)(n.td,{children:"Update a followup message, given its ID"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"deleteFollowup"}),(0,s.jsx)(n.td,{children:"Delete a followup message, given its ID"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/interactions/application-commands",children:"How-to Guides - Application Commands"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/interactions/buttons",children:"How-to Guides - Buttons"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/interactions/select-menus",children:"How-to Guides - Select Menus"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/interactions/auto-complete",children:"How-to Guides - Auto Complete"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://discord.com/developers/docs/interactions/application-commands",children:"Discord Docs - Application Commands"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://discord.com/developers/docs/interactions/message-components",children:"Discord Docs - Message Components"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>d,x:()=>r});var s=t(6540);const i={},o=s.createContext(i);function d(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);